[tox]
envlist = py3{10,11,12,13,14}

[testenv]
usedevelop = True
pip_pre = True
passenv =
  CFLAGS
  CPPFLAGS
  INCLUDE
  LDFLAGS
  LIB
deps =
  build
  setuptools >= 65
  wheel
commands =
  python -m build --no-isolation --outdir=dist --wheel
  python -m pip install --no-index --find-links=dist libesedb-python
  python tests/runtests.py
